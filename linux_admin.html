<html>
<head>

</head>

<body>
<pre>
    2-21-2023
    UCD app couldn't connect to LDAP server. The reason was IT changed the LDAP server name and firewall rules. After correcting both, it works.
    
    3-1-2022
    UCD app LDAP login page is not working, because /etc/resolv.conf file misses entries for nameserver. The cause may be DNS server IP address being changed by IT or a reboot of the server that results in the configuration file being overwritten. After correcting the DNS settings, the login page started working again.
    
    [yzhang@cscdevprod03 ~]$ cat /etc/resolv.conf
    # Generated by NetworkManager
    search ad.txwesleyan.edu
    nameserver 10.6.6.14
    nameserver 10.6.6.16
    
    ###################################################################################################################
    2-28-2021
    Problem description:
    In the UCD application, when publishing the program (program_2021.json), fopen() caused "Unable to open the file"
    The problem was caused by SELINUX enforcing setting. After turning it off (permissive), it works. 
    But, this may lose security protection. Correct way is to set the folders/files with appropriate context configuration using command
    "chcon" to allow httpd to access or write into those folders or files. But, for the time being, just leave it disabled.
    
    Turn ON or OFF SELINUX:
    usage:  setenforce [ Enforcing | Permissive | 1 | 0 ]
    [yzhang@cscdevprod03 ucd_prod]$ sudo setenforce 1
    [yzhang@cscdevprod03 ucd_prod]$ sestatus
    SELinux status:                 enabled
    SELinuxfs mount:                /sys/fs/selinux
    SELinux root directory:         /etc/selinux
    Loaded policy name:             targeted
    Current mode:                   enforcing
    Mode from config file:          enforcing
    Policy MLS status:              enabled
    Policy deny_unknown status:     allowed
    Max kernel policy version:      31
    
    
    To view the context configuration of a folder/file, 
    [yzhang@cscdevprod03 ucd_prod]$ ls -dZ json
    drwxrwxrwx. yzhang faculty unconfined_u:object_r:httpd_unconfined_script_exec_t:s0 json
    
    The following changes didn't affact the writing permission of the folder or file
    -r-x--x---. 1 root apache 15448 Nov  4  2018 /usr/sbin/suexec
    [yzhang@cscdevprod03 ucd_prod]$ sudo chown root:root /usr/sbin/suexec
    [yzhang@cscdevprod03 ucd_prod]$ ls -la /usr/sbin/suexec
    -r-x--x---. 1 root root 15448 Nov  4  2018 /usr/sbin/suexec
    [yzhang@cscdevprod03 ucd_prod]$ sudo chmod 4755 /usr/sbin/suexec
    [yzhang@cscdevprod03 ucd_prod]$ ls -la /usr/sbin/suexec
    -rwsr-xr-x. 1 root root 15448 Nov  4  2018 /usr/sbin/suexec
    ###################################################################################################################
    
    
    2-13-2021
    ########### How to generate a CSR file ###############
    [yzhang@cscdevprod03 server_certs]$ openssl req -new -newkey rsa:2048 -nodes -keyout cscdevprod03.txwes.edu.key -out cscdevprod03.txwes.edu.csr
    Generating a 2048 bit RSA private key
    ..................+++
    ...................+++
    writing new private key to 'cscdevprod03.txwes.edu.key'
    -----
    You are about to be asked to enter information that will be incorporated
    into your certificate request.
    What you are about to enter is what is called a Distinguished Name or a DN.
    There are quite a few fields but you can leave some blank
    For some fields there will be a default value,
    If you enter '.', the field will be left blank.
    -----
    Country Name (2 letter code) [XX]:US
    State or Province Name (full name) []:Texas
    Locality Name (eg, city) [Default City]:Fort Worth
    Organization Name (eg, company) [Default Company Ltd]:Texas Wesleyan University
    Organizational Unit Name (eg, section) []:Computer Science Program
    Common Name (eg, your name or your server's hostname) []:cscdevprod03.txwes.edu
    Email Address []:moreno@txwes.edu
    
    Please enter the following 'extra' attributes
    to be sent with your certificate request
    A challenge password []:
    An optional company name []:
    [yzhang@cscdevprod03 server_certs]$ ls
    cscdevprod03.txwes.edu.csr  cscdevprod03.txwes.edu.key
    
    ########## How to install a certificate ###################
    Once a csr file is generated, sent to Rene for a certificate from CA
    -- 7za x entrust.7z //Extract the certificate file
    
    Verify the /etc/conf/conf.d/ssl.conf
    <VirtualHost _default_:443>
    # entered by bill
    #ServerName cscdevprod03.txwes.edu
    #SSLEngine ON
    SSLCertificateFile /etc/pki/tls/certs/ServerCertificate.crt  //Certificate file
    SSLCertificateKeyFile /etc/pki/tls/certs/cscdevprod03.key    //key generated during csr file generation
    SSLCertificateChainFile /etc/pki/tls/certs/ChainBundle2.crt  //Intermediate.crt file
    # stop edit by bill
    
    -- Copy the files to the folder specified in ssl.conf file. Make sure to match the file names.
    -- Test your Apache configuration before restarting. Make sure that the syntax is correct by typing:
       sudo apachectl configtest
    -- Once the system confirms that the syntax is correct, restart Apache:
       sudo systemctl restart httpd
    You have now set up your Apache server to use the SSL certificate.
    
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    
    //12-22-2020
    //Turn on send email settings on cscdevprod03 server
    
    [yzhang@cscdevprod03 ~]$ getsebool httpd_can_sendmail
    httpd_can_sendmail --> off
    [yzhang@cscdevprod03 ~]$ getsebool httpd_can_network_connect
    httpd_can_network_connect --> off
    [yzhang@cscdevprod03 ~]$ sudo setsebool -P httpd_can_sendmail 1
    [sudo] password for yzhang:
    [yzhang@cscdevprod03 ~]$ sudo setsebool -P httpd_can_network_connect 1
    [yzhang@cscdevprod03 ~]$ getsebool httpd_can_network_connect
    httpd_can_network_connect --> on
    [yzhang@cscdevprod03 ~]$ getsebool httpd_can_sendmail
    httpd_can_sendmail --> on
    
    //Download composer
    [yzhang@cscdevprod03 ~]$ php -r "copy('https://getcomposer.org/installer', 'composer-setup.php');"
    [yzhang@cscdevprod03 ~]$ php -r "if (hash_file('sha384', 'composer-setup.php') === '756890a4488ce9024fc62c56153228907f1545c228516cbf63f885e036d37e9a59d27d63f46af1d4d07ee0f76181c7d3') { echo 'Installer verified'; } else { echo 'Installer corrupt'; unlink('composer-setup.php'); } echo PHP_EOL;"
    Installer verified
    [yzhang@cscdevprod03 ~]$ php composer-setup.php
    All settings correct for using Composer
    Downloading...
    
    Composer (version 2.0.8) successfully installed to: /home/yzhang/composer.phar
    Use it: php composer.phar
    
    [yzhang@cscdevprod03 ~]$ php -r "unlink('composer-setup.php');"
    [yzhang@cscdevprod03 ~]$ ls
    composer.phar
    [yzhang@cscdevprod03 bin]$ sudo mv composer.phar /usr/local/bin/composer
    
    //Install PHPMailer using composer
    [yzhang@cscdevprod03 ucd]$ composer require phpmailer/phpmailer
    Using version ^6.2 for phpmailer/phpmailer
    ./composer.json has been created
    Running composer update phpmailer/phpmailer
    Loading composer repositories with package information
    Updating dependencies
    Lock file operations: 1 install, 0 updates, 0 removals
      - Locking phpmailer/phpmailer (v6.2.0)
    Writing lock file
    Installing dependencies from lock file (including require-dev)
    Package operations: 1 install, 0 updates, 0 removals
      - Downloading phpmailer/phpmailer (v6.2.0)
      - Installing phpmailer/phpmailer (v6.2.0): Extracting archive
    6 package suggestions were added by new dependencies, use `composer suggest` to see details.
    Generating autoload files
    1 package you are using is looking for funding.
    Use the `composer fund` command to find out more!
    
    //Should see a directory called vendor
    
    
    Access Windows Server (copernicus) from linux cscdevprod03
    [yzhang@cscdevprod03 tmp]$ smbclient //copernicus/public -U txwesleyan/yzhang
    Enter TXWESLEYAN\yzhang's password:
    
    
    *** Problem: Doesn't sync with OneDrive on Mac
    
    Reset OneDrive on Mac first to see if it helps:
    1. Quit OneDrive. (Select the cloud icon in the top tray, then select Settings > Quit OneDrive.)
    2. Find OneDrive in your Applications folder.
    3. Right-click OneDrive and select Show Package Contents.
    4. Browse to the Contents > Resources folder.
    5. Double-click ResetOneDriveApp.command (or ResetOneDriveAppStandalone.command, if you're using the standalone app).
    6. Start OneDrive and finish the setup process.
    
    ---------------------------------------------------------------------------
    
    *** How to restart CentOS server
    shutdown -r now
    
    ----------------------------------------------------------------------------
    *** How to change DNS server ip address
    [yzhang@cscdevprod03 ~]$ sudo vi /etc/resolv.conf
    
    This file will be overwritten when rebooting server. To avoid that, need to change the following in:
     /etc/NetworkManager/NetworkManager.conf
    
    [main]
    #Avoid overwritting on /etc/resov.conf, add the line below (7-16-2019 by yzhang)
    dns=none
    
    ----------------------------------------------------------------------------------------------
    Setup Samba Server:
    
    sudo yum install samba samba-client
    sudo systemctl start smb.service
    sudo systemctl start nmb.service
    sudo systemctl enable smb.service
    sudo systemctl enable nmb.service
    setsebool -P samba_enable_home_dirs on
    sudo firewall-cmd --permanent --zone=public --add-service=samba
    sudo firewall-cmd --zone=public --add-service=samba
    firewall-cmd --reload
    
    -----------------------------------------------------------------------
    
    How to print passport photo in exact size 
    https://online-passport-photo.com/
    
    *** Forbidden access a user web folder such as cscdevprod04.tx...edu/~yzhang/ on CentOS 7
    The reason selinux is on. There are two ways to get rid of this:
    
    1. Turn off
    [root@cscdevprod04 logs]# getenforce
    Enforcing
    [root@cscdevprod04 logs]# setenforce 0
    
    2. Grant permission to public_html folder
    [yzhang@cscdevprod04 ~]$ chcon -R -t httpd_sys_content_t ~/public_html/
    
    *** How to download node.js and install on CentOS Linux server
    
    https://nodejs.org/en/download/
    wget node-v4.5.0-linux-x64.tar.xz
    sudo yum install xz
    unxz node-v4.5.0-linux-x64.tar.xz
    sudo sudo tar --strip-components 1 -xf node-v* -C /usr/local
    
    
    Unfollow all twitter accounts: On Console Window:
    $('.button-text.unfollow-text').trigger('click'); 
    
    *** Windows IIS web server doesn't read json files ***
    Fix: 
    http://stackoverflow.com/questions/11008879/simplest-of-getjson-call-not-working
    
    
    How to reset Matlab toolbox path to default.
    
    http://www.mathworks.com/help/matlab/matlab_prog/calling-functions.html
    
    
    No sound after installing Win 7 (Home PC Sony) 12-3-2011
    
    1. Go to Device Manager and uninstall Audio Controller
    2. Retart computer and the error message appears "Unable to install driver"
    3. Open driver installation window. Choose "Let Windows automatically install driver"
    The problem is fixed immediately.
    
    
    No sound after installing Win 7 (Dell Laptop)
    
    Try using the Vista32 Sigmatel audio driver for the Inspiron 6000, R99254.
    
     Install it using Vista compatibility mode. Download the driver package using the browser, not Dell Download Manager. Extract the files (unzip or unpack) but cancel the installation process. Go to the hard drive to 
    c:\Dell\Drivers\R99254
    Right click on setup.exe and select Properties. Find the compatibility tab to select Vista.

</pre>

</body>

</html>

